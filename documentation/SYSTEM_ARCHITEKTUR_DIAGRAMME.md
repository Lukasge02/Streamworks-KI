# System-Architektur Diagramme

> **Visuelle Darstellung der Streamworks-KI Architektur und Workflows**
> Detaillierte ASCII-Art Diagramme fÃ¼r Bachelorarbeit-Dokumentation

---

## 1. Hybrid RAG-System Architektur

### 1.1 RAG Pipeline Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            RAG SYSTEM ARCHITECTURE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Query     â”‚    â”‚  Query Enhancement â”‚    â”‚  Hybrid Retrievalâ”‚
â”‚                 â”‚â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â–¶â”‚                 â”‚
â”‚ "SAP Export     â”‚    â”‚ â€¢ Expansion     â”‚    â”‚ â€¢ Vector Search â”‚
â”‚  nach GT123"    â”‚    â”‚ â€¢ Normalization â”‚    â”‚ â€¢ Lexical Searchâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Response        â”‚    â”‚ Response        â”‚    â”‚ Document        â”‚
â”‚ Generation      â”‚â—€â”€â”€â”€â”‚ Context Assemblyâ”‚â—€â”€â”€â”€â”‚ Re-ranking      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ LLM + Context â”‚    â”‚ â€¢ Source Fusion â”‚    â”‚ â€¢ Relevance Scoreâ”‚
â”‚ â€¢ Source Grounding  â”‚ â€¢ Token Limits  â”‚    â”‚ â€¢ Authority Boostâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ErklÃ¤rung der RAG Pipeline:**
- **User Query**: NatÃ¼rlichsprachliche Anfrage des Benutzers (z.B. "Wie erstelle ich einen SAP Export?")
- **Query Enhancement**: Verbesserung der Anfrage durch Synonyme, Kontext und Normalisierung fÃ¼r bessere Suchergebnisse
- **Hybrid Retrieval**: Kombination aus semantischer (Vector) und exakter (Lexical) Suche fÃ¼r optimale TrefferqualitÃ¤t
- **Document Re-ranking**: Bewertung der gefundenen Dokumente nach Relevanz, AktualitÃ¤t und AutoritÃ¤t
- **Context Assembly**: Zusammenstellung der besten Quellen unter BerÃ¼cksichtigung von Token-Limits
- **Response Generation**: LLM-basierte Antwortgenerierung mit Quellenangaben und Fact-Checking

### 1.2 Detailed Hybrid Retrieval Architecture

```
                    HYBRID RETRIEVAL SYSTEM
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   Query Processing                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       VECTOR SEARCH         â”‚    â”‚      LEXICAL SEARCH         â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚   Query Embedding       â”‚ â”‚    â”‚ â”‚   BM25 Tokenization     â”‚ â”‚
    â”‚ â”‚   (GammaEncoder)        â”‚ â”‚    â”‚ â”‚                         â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚             â”‚               â”‚    â”‚             â”‚               â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚   Qdrant Collections    â”‚ â”‚    â”‚ â”‚   Text Matching         â”‚ â”‚
    â”‚ â”‚   â€¢ streamworks_docs    â”‚ â”‚    â”‚ â”‚   â€¢ Keyword Search      â”‚ â”‚
    â”‚ â”‚   â€¢ streamworks_hybrid  â”‚ â”‚    â”‚ â”‚   â€¢ Phrase Matching     â”‚ â”‚
    â”‚ â”‚   â€¢ streamworks_knowledgeâ”‚ â”‚    â”‚ â”‚                         â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚             â”‚               â”‚    â”‚             â”‚               â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚   Similarity Search     â”‚ â”‚    â”‚ â”‚   TF-IDF Scoring        â”‚ â”‚
    â”‚ â”‚   â€¢ Cosine Similarity   â”‚ â”‚    â”‚ â”‚   â€¢ Document Frequency  â”‚ â”‚
    â”‚ â”‚   â€¢ Score: 0.6-0.95     â”‚ â”‚    â”‚ â”‚   â€¢ Score: 0.3-0.8      â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚           SCORE FUSION ENGINE               â”‚
            â”‚                                             â”‚
            â”‚  Combined Score = (Vector Ã— 0.7) +          â”‚
            â”‚                   (Lexical Ã— 0.3)           â”‚
            â”‚                                             â”‚
            â”‚  Re-ranking Factors:                        â”‚
            â”‚  â€¢ Document Freshness    (Ã—1.1)            â”‚
            â”‚  â€¢ Source Authority      (Ã—1.2)            â”‚
            â”‚  â€¢ Content Completeness  (Ã—1.05)           â”‚
            â”‚  â€¢ Query Term Coverage   (Ã—1.15)           â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚            FINAL RANKED RESULTS             â”‚
            â”‚                                             â”‚
            â”‚  Top 10 Documents (Score â‰¥ 0.6)            â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚  â”‚ Doc A: Score 0.92 (Vector+Lexical)     â”‚ â”‚
            â”‚  â”‚ Doc B: Score 0.87 (Vector only)        â”‚ â”‚
            â”‚  â”‚ Doc C: Score 0.81 (Lexical+Authority)  â”‚ â”‚
            â”‚  â”‚ ...                                     â”‚ â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ErklÃ¤rung der Hybrid Retrieval Architektur:**
- **Vector Search**: Semantische Ã„hnlichkeitssuche mit 768-dimensionalen Embeddings fÃ¼r BedeutungsverstÃ¤ndnis
- **Lexical Search**: Exakte Keyword-Suche mit BM25-Algorithmus fÃ¼r prÃ¤zise Begriffstreffer
- **Score Fusion**: Gewichtete Kombination (70% Vector, 30% Lexical) fÃ¼r optimale Balance
- **Qdrant Collections**: Separate Sammlungen fÃ¼r verschiedene Dokumenttypen und AnwendungsfÃ¤lle
- **Re-ranking Faktoren**: BerÃ¼cksichtigung von Dokumentfrische, AutoritÃ¤t und VollstÃ¤ndigkeit
- **Performance**: Sub-Sekunden Antwortzeiten durch parallele Suche und Caching

### 1.3 Document Processing Pipeline

```
                      DOCUMENT PROCESSING PIPELINE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    Document Upload                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      TYPE DETECTION         â”‚    â”‚      CONTENT EXTRACTION     â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ â€¢ PDF Analysis              â”‚    â”‚ â€¢ Layout-aware Parsing      â”‚
    â”‚ â€¢ Structure Recognition     â”‚    â”‚ â€¢ Text + Metadata           â”‚
    â”‚ â€¢ Quality Assessment        â”‚    â”‚ â€¢ Table/Image Detection     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚           LAYOUT-AWARE CHUNKING             â”‚
            â”‚                                             â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
            â”‚  â”‚ PDF Strategy    â”‚  â”‚ MD Strategy     â”‚   â”‚
            â”‚  â”‚ â€¢ Page-based    â”‚  â”‚ â€¢ Header-based  â”‚   â”‚
            â”‚  â”‚ â€¢ Element-aware â”‚  â”‚ â€¢ Section-aware â”‚   â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
            â”‚                                             â”‚
            â”‚  Chunk Configuration:                       â”‚
            â”‚  â€¢ Size: 1000 chars                        â”‚
            â”‚  â€¢ Overlap: 200 chars                      â”‚
            â”‚  â€¢ Min Size: 100 chars                     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     METADATA ENRICHMENT     â”‚    â”‚      EMBEDDING GENERATION   â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ â€¢ Entity Extraction         â”‚    â”‚ â€¢ GammaEncoder (Local)      â”‚
    â”‚ â€¢ Keyword Detection         â”‚    â”‚ â€¢ 768-dimensional vectors   â”‚
    â”‚ â€¢ Category Classification   â”‚    â”‚ â€¢ Batch Processing          â”‚
    â”‚ â€¢ Content Statistics        â”‚    â”‚ â€¢ Error Handling            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚             STORAGE LAYER                   â”‚
            â”‚                                             â”‚
            â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
            â”‚ â”‚   Qdrant Store  â”‚  â”‚ PostgreSQL Meta â”‚    â”‚
            â”‚ â”‚ â€¢ Vector Data   â”‚  â”‚ â€¢ Document Info â”‚    â”‚
            â”‚ â”‚ â€¢ Payload Meta  â”‚  â”‚ â€¢ Processing Logâ”‚    â”‚
            â”‚ â”‚ â€¢ Collections   â”‚  â”‚ â€¢ User Access   â”‚    â”‚
            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ErklÃ¤rung der Document Processing Pipeline:**
- **Type Detection**: Automatische Erkennung von PDF, Markdown, Text und HTML Dokumenten
- **Content Extraction**: Layout-bewusste Textextraktion mit Erhaltung der Dokumentstruktur
- **Layout-aware Chunking**: Intelligente Aufteilung basierend auf Dokumenttyp (Headers, Seiten, Paragraphen)
- **Metadata Enrichment**: Anreicherung mit EntitÃ¤ten, Keywords und Content-Statistiken
- **Embedding Generation**: Lokale Erstellung von Vektoren mit GammaEncoder (768D)
- **Dual Storage**: Vector-Daten in Qdrant, Metadaten in PostgreSQL fÃ¼r optimale Performance

---

## 2. LangExtract User Workflow

### 2.1 Complete LangExtract Flow

```
                         LANGEXTRACT USER WORKFLOW
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    USER INTERACTION                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
            "Ich brauche einen Datentransfer von AGENT_01 zu AGENT_02"
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 SESSION INITIALIZATION                          â”‚
    â”‚                                                                 â”‚
    â”‚  1. Create Session ID                                           â”‚
    â”‚  2. Initialize State Store                                      â”‚
    â”‚  3. Set Status: "initialized"                                   â”‚
    â”‚                                                                 â”‚
    â”‚  Session ID: LX_20241223_143052                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  JOB TYPE DETECTION                             â”‚
    â”‚                                                                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ Layer 1: High   â”‚  â”‚ Layer 2: Fuzzy  â”‚  â”‚ Layer 3:Context â”‚ â”‚
    â”‚  â”‚ Confidence      â”‚  â”‚ Matching        â”‚  â”‚ Analysis        â”‚ â”‚
    â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚ â”‚
    â”‚  â”‚ Pattern Match:  â”‚  â”‚ "datentransfer" â”‚  â”‚ Keywords:       â”‚ â”‚
    â”‚  â”‚ "zwischen...zu" â”‚  â”‚ Similarity:0.9  â”‚  â”‚ â€¢ datei         â”‚ â”‚
    â”‚  â”‚ Confidence:0.92 â”‚  â”‚ Boost: +0.15    â”‚  â”‚ â€¢ von/zu        â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Boost: +0.05    â”‚ â”‚
    â”‚                                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                                 â”‚
    â”‚  ğŸ¯ RESULT: FILE_TRANSFER (92% Confidence)                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 PARAMETER EXTRACTION                            â”‚
    â”‚                                                                 â”‚
    â”‚  State Machine: INITIAL â†’ COLLECTING_REQUIRED                  â”‚
    â”‚                                                                 â”‚
    â”‚  Extracted Parameters:                                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ âœ… source_server: "AGENT_01"                               â”‚ â”‚
    â”‚  â”‚ âœ… target_server: "AGENT_02"                               â”‚ â”‚
    â”‚  â”‚ âŒ source_path: null                                       â”‚ â”‚
    â”‚  â”‚ âŒ target_path: null                                       â”‚ â”‚
    â”‚  â”‚ âŒ file_pattern: null                                      â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                                 â”‚
    â”‚  Completion: 40% (2/5 required parameters)                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   AI RESPONSE GENERATION                        â”‚
    â”‚                                                                 â”‚
    â”‚  Template Selection: "parameters_partial"                       â”‚
    â”‚                                                                 â”‚
    â”‚  Generated Response:                                            â”‚
    â”‚  "Ich habe erkannt, dass Sie einen Datentransfer Job           â”‚
    â”‚   erstellen mÃ¶chten (Sicherheit: 92%).                         â”‚
    â”‚                                                                 â”‚
    â”‚   Gut, ich habe bereits 40% der benÃ¶tigten Parameter.          â”‚
    â”‚   Folgende Informationen fehlen noch:                          â”‚
    â”‚   â€¢ Quell-Pfad (z.B. /data/exports/)                          â”‚
    â”‚   â€¢ Ziel-Pfad (z.B. /data/imports/)                           â”‚
    â”‚   â€¢ Datei-Pattern (z.B. *.csv oder report_*.pdf)"             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    ITERATIVE REFINEMENT                         â”‚
    â”‚                                                                 â”‚
    â”‚  User: "Von /export/reports/ nach /import/data/, alle *.xlsx"   â”‚
    â”‚                                                                 â”‚
    â”‚  Updated Parameters:                                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ âœ… source_server: "AGENT_01"                               â”‚ â”‚
    â”‚  â”‚ âœ… target_server: "AGENT_02"                               â”‚ â”‚
    â”‚  â”‚ âœ… source_path: "/export/reports/"                         â”‚ â”‚
    â”‚  â”‚ âœ… target_path: "/import/data/"                            â”‚ â”‚
    â”‚  â”‚ âœ… file_pattern: "*.xlsx"                                  â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                                 â”‚
    â”‚  Completion: 100% â†’ State: COMPLETED                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     XML GENERATION                              â”‚
    â”‚                                                                 â”‚
    â”‚  Template: file_transfer_template.xml                           â”‚
    â”‚  Auto-Generated:                                                â”‚
    â”‚  â€¢ job_id: FT_20241223_143052                                   â”‚
    â”‚  â€¢ transfer_mode: COPY                                          â”‚
    â”‚  â€¢ retry_count: 3                                               â”‚
    â”‚  â€¢ notification_email: streamworks@company.com                  â”‚
    â”‚                                                                 â”‚
    â”‚  ğŸ“„ Generated XML: 247 lines, validated âœ…                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ErklÃ¤rung des LangExtract User Workflows:**
- **Session-basiert**: Jeder Benutzer arbeitet in isolierten Sessions mit persistenter Zustandsspeicherung
- **88.9% Job Detection Accuracy**: Multi-Layer Algorithmus fÃ¼r deutsche Sprache optimiert
- **State Machine**: Systematische FÃ¼hrung durch Parameter-Sammlung mit klaren ZustÃ¤nden
- **Iterative Refinement**: Benutzer kÃ¶nnen Parameter schrittweise ergÃ¤nzen und verfeinern
- **Smart Suggestions**: KI-basierte VorschlÃ¤ge basierend auf erkanntem Job-Typ
- **Template-based XML**: Deterministische XML-Generierung ohne LLM-AbhÃ¤ngigkeit

### 2.2 State Machine Visualization

```
                    LANGEXTRACT STATE MACHINE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                               â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     Job Type      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚    â”‚   INITIAL   â”‚ â”€ Detected â”€â”€â”€â”€â”€â”€â–¶â”‚ COLLECTING_REQUIRED â”‚  â”‚
    â”‚    â”‚             â”‚                   â”‚                     â”‚  â”‚
    â”‚    â”‚ â€¢ First     â”‚â—€â”€â”€ No Job Type â”€â”€â”‚ â€¢ Extract Required  â”‚  â”‚
    â”‚    â”‚   Message   â”‚    Detected       â”‚ â€¢ Check Missing     â”‚  â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚           â”‚                                     â”‚             â”‚
    â”‚           â”‚                                     â”‚             â”‚
    â”‚           â”‚ Job Type +           All Required   â”‚             â”‚
    â”‚           â”‚ Some Params         Parameters â”€â”€â”€â”€â”€â”˜             â”‚
    â”‚           â”‚                          â”‚                        â”‚
    â”‚           â–¼                          â–¼                        â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚    â”‚ COLLECTING  â”‚                â”‚ COLLECTING_OPTIONAL â”‚     â”‚
    â”‚    â”‚ OPTIONAL    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚     â”‚
    â”‚    â”‚             â”‚ 80%+ Complete  â”‚ â€¢ Optional Params   â”‚     â”‚
    â”‚    â”‚ â€¢ Enhance   â”‚                â”‚ â€¢ Quality Check     â”‚     â”‚
    â”‚    â”‚   Quality   â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚                 â”‚
    â”‚           â”‚                                 â”‚                 â”‚
    â”‚           â”‚ Completion â‰¥ 80%                â”‚                 â”‚
    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
    â”‚                         â–¼                                     â”‚
    â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
    â”‚                  â”‚ VALIDATING  â”‚                              â”‚
    â”‚                  â”‚             â”‚                              â”‚
    â”‚                  â”‚ â€¢ Type Checkâ”‚                              â”‚
    â”‚                  â”‚ â€¢ Business  â”‚                              â”‚
    â”‚                  â”‚   Rules     â”‚                              â”‚
    â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
    â”‚                         â”‚                                     â”‚
    â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
    â”‚            â–¼                         â–¼                        â”‚
    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
    â”‚     â”‚   ERROR     â”‚            â”‚  COMPLETED  â”‚                â”‚
    â”‚     â”‚             â”‚            â”‚             â”‚                â”‚
    â”‚     â”‚ â€¢ Validationâ”‚            â”‚ â€¢ Ready for â”‚                â”‚
    â”‚     â”‚   Failed    â”‚            â”‚   XML Gen   â”‚                â”‚
    â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
    â”‚                                                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Service Dependencies & Communication

### 3.1 Microservice Dependency Graph

```
                      SERVICE DEPENDENCY ARCHITECTURE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      API GATEWAY                              â”‚
    â”‚                     (FastAPI)                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                  â”‚                  â”‚
                â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   LangExtract       â”‚ â”‚   XML Generator â”‚ â”‚   RAG Chat      â”‚
    â”‚   Router            â”‚ â”‚   Router        â”‚ â”‚   Router        â”‚
    â”‚                     â”‚ â”‚                 â”‚ â”‚                 â”‚
    â”‚ /langextract/*      â”‚ â”‚ /xml-gen/*      â”‚ â”‚ /chat/*         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                  â”‚                  â”‚
                â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UnifiedLangExtract  â”‚ â”‚ TemplateEngine  â”‚ â”‚ UnifiedRAG      â”‚
    â”‚ Service             â”‚ â”‚ Service         â”‚ â”‚ Service         â”‚
    â”‚                     â”‚ â”‚                 â”‚ â”‚                 â”‚
    â”‚ â€¢ Job Detection     â”‚ â”‚ â€¢ Jinja2 Engine â”‚ â”‚ â€¢ Hybrid Search â”‚
    â”‚ â€¢ Param Extraction  â”‚ â”‚ â€¢ XML Validationâ”‚ â”‚ â€¢ LLM Response  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                  â”‚                  â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼         â–¼         â–¼       â–¼       â–¼         â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚Enhanced â”‚ â”‚Enhancedâ”‚ â”‚Sessionâ”‚ â”‚Param â”‚ â”‚Qdrantâ”‚ â”‚Embed â”‚ â”‚Chat  â”‚
â”‚JobType  â”‚ â”‚Unified â”‚ â”‚Persistâ”‚ â”‚Mapperâ”‚ â”‚Clientâ”‚ â”‚Serviceâ”‚ â”‚Serviceâ”‚
â”‚Detector â”‚ â”‚Param   â”‚ â”‚Serviceâ”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚
â”‚         â”‚ â”‚Extract â”‚ â”‚       â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚
â”‚88.9%Acc â”‚ â”‚        â”‚ â”‚       â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚ â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
      â”‚         â”‚         â”‚       â”‚       â”‚       â”‚       â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚         â”‚       â”‚       â”‚       â”‚
                â–¼         â–¼       â–¼       â–¼       â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 SHARED INFRASTRUCTURE                       â”‚
    â”‚                                                             â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ PostgreSQL  â”‚ â”‚   Qdrant    â”‚ â”‚    Redis Cache          â”‚ â”‚
    â”‚ â”‚             â”‚ â”‚             â”‚ â”‚                         â”‚ â”‚
    â”‚ â”‚â€¢ Sessions   â”‚ â”‚â€¢ Embeddings â”‚ â”‚â€¢ Session Cache          â”‚ â”‚
    â”‚ â”‚â€¢ Users      â”‚ â”‚â€¢ Documents  â”‚ â”‚â€¢ API Rate Limits        â”‚ â”‚
    â”‚ â”‚â€¢ Audit Logs â”‚ â”‚â€¢ Collectionsâ”‚ â”‚â€¢ Temporary Storage      â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Event-Driven Communication Flow

```
                          EVENT-DRIVEN ARCHITECTURE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      EVENT BUS                                â”‚
    â”‚                  (In-Process Events)                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼              â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ JobTypeDetected     â”‚ â”‚ParameterExtractedâ”‚ â”‚ XMLGenerated    â”‚
    â”‚ Event               â”‚ â”‚ Event            â”‚ â”‚ Event           â”‚
    â”‚                     â”‚ â”‚                 â”‚ â”‚                 â”‚
    â”‚ â€¢ session_id        â”‚ â”‚ â€¢ session_id    â”‚ â”‚ â€¢ session_id    â”‚
    â”‚ â€¢ job_type          â”‚ â”‚ â€¢ parameters    â”‚ â”‚ â€¢ xml_content   â”‚
    â”‚ â€¢ confidence        â”‚ â”‚ â€¢ completion_%  â”‚ â”‚ â€¢ validation    â”‚
    â”‚ â€¢ timestamp         â”‚ â”‚ â€¢ timestamp     â”‚ â”‚ â€¢ timestamp     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                  â”‚                  â”‚
                â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Event Handlers      â”‚ â”‚ Event Handlers  â”‚ â”‚ Event Handlers  â”‚
    â”‚                     â”‚ â”‚                 â”‚ â”‚                 â”‚
    â”‚ â€¢ Update UI State   â”‚ â”‚ â€¢ Cache Update  â”‚ â”‚ â€¢ File Storage  â”‚
    â”‚ â€¢ Log Analytics     â”‚ â”‚ â€¢ Notification  â”‚ â”‚ â€¢ Audit Log     â”‚
    â”‚ â€¢ Trigger Next Step â”‚ â”‚ â€¢ Progress Trackâ”‚ â”‚ â€¢ User Notify   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        ASYNC MESSAGE PATTERNS
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                               â”‚
    â”‚  Service A                    Service B                       â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     publish     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     subscribe       â”‚
    â”‚  â”‚ Action  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ Event   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚
    â”‚  â”‚ Execute â”‚                 â”‚ Bus     â”‚                     â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
    â”‚                                   â”‚                          â”‚
    â”‚                              â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                     â”‚
    â”‚                              â”‚ Handler â”‚                     â”‚
    â”‚                              â”‚ Registryâ”‚                     â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
    â”‚                                   â”‚                          â”‚
    â”‚  Service C               Service Dâ–¼                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
    â”‚  â”‚ Handler â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Handler â”‚                         â”‚
    â”‚  â”‚ Async   â”‚             â”‚ Async   â”‚                         â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
    â”‚                                                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Authentication & Authorization Flow

### 4.1 JWT Authentication Flow

```
                         JWT AUTHENTICATION FLOW
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      USER CLIENT                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                           POST /auth/login
                           {username, password, totp?}
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   AUTH SERVICE                                  â”‚
    â”‚                                                                 â”‚
    â”‚  1. Rate Limiting Check     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”œâ”€ IP: 5 attempts/5min     â”‚        USER VALIDATION          â”‚ â”‚
    â”‚  â””â”€ User: 5 attempts/30min  â”‚                                 â”‚ â”‚
    â”‚                             â”‚ â€¢ Username Lookup               â”‚ â”‚
    â”‚  2. Password Verification   â”‚ â€¢ Password Hash Check           â”‚ â”‚
    â”‚  â”œâ”€ bcrypt.verify()         â”‚ â€¢ Account Status Check          â”‚ â”‚
    â”‚  â””â”€ Account Lock Check      â”‚ â€¢ 2FA Requirement Check        â”‚ â”‚
    â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚  3. Two-Factor Auth (if required)                               â”‚
    â”‚  â”œâ”€ TOTP Token Verification                                     â”‚
    â”‚  â””â”€ Time Window: Â±30 seconds                                   â”‚
    â”‚                                                                 â”‚
    â”‚  4. JWT Token Generation                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ Access Token    â”‚  â”‚ Refresh Token                       â”‚  â”‚
    â”‚  â”‚                 â”‚  â”‚                                     â”‚  â”‚
    â”‚  â”‚ â€¢ Exp: 30min    â”‚  â”‚ â€¢ Exp: 7 days                      â”‚  â”‚
    â”‚  â”‚ â€¢ Roles         â”‚  â”‚ â€¢ Secure Storage                   â”‚  â”‚
    â”‚  â”‚ â€¢ Permissions   â”‚  â”‚ â€¢ Rotation on Use                  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       CLIENT STORAGE        â”‚    â”‚      SECURITY LOGGING       â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ â€¢ Access Token â†’ Memory     â”‚    â”‚ â€¢ Login Success/Failure     â”‚
    â”‚ â€¢ Refresh Token â†’ HttpOnly  â”‚    â”‚ â€¢ IP Address Tracking       â”‚
    â”‚ â€¢ User Profile â†’ LocalStore â”‚    â”‚ â€¢ Suspicious Activity       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Role-Based Access Control (RBAC)

```
                    ROLE-BASED ACCESS CONTROL (RBAC)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   ROLE HIERARCHY                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                          ADMIN                                  â”‚
    â”‚                                                                 â”‚
    â”‚ Permissions:                                                    â”‚
    â”‚ â€¢ system.admin                                                  â”‚
    â”‚ â€¢ users.manage                                                  â”‚
    â”‚ â€¢ settings.modify                                               â”‚
    â”‚ â€¢ security.audit                                                â”‚
    â”‚ + ALL POWER_USER permissions                                    â”‚
    â”‚ + ALL USER permissions                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                        POWER_USER                               â”‚
    â”‚                                                                 â”‚
    â”‚ Permissions:                                                    â”‚
    â”‚ â€¢ langextract.advanced                                          â”‚
    â”‚ â€¢ xml.template.create                                           â”‚
    â”‚ â€¢ documents.bulk_operations                                     â”‚
    â”‚ â€¢ reports.generate                                              â”‚
    â”‚ + ALL USER permissions                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                           USER                                  â”‚
    â”‚                                                                 â”‚
    â”‚ Permissions:                                                    â”‚
    â”‚ â€¢ langextract.basic                                             â”‚
    â”‚ â€¢ xml.generate                                                  â”‚
    â”‚ â€¢ documents.read                                                â”‚
    â”‚ â€¢ documents.upload                                              â”‚
    â”‚ â€¢ chat.access                                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                          VIEWER                                 â”‚
    â”‚                                                                 â”‚
    â”‚ Permissions:                                                    â”‚
    â”‚ â€¢ documents.read                                                â”‚
    â”‚ â€¢ chat.access.readonly                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                       PERMISSION CHECK FLOW
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     API REQUEST                               â”‚
    â”‚              GET /langextract/sessions                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                JWT TOKEN VALIDATION                             â”‚
    â”‚                                                                 â”‚
    â”‚ 1. Token Signature Verification                                 â”‚
    â”‚ 2. Expiration Check                                             â”‚
    â”‚ 3. Extract User Claims:                                         â”‚
    â”‚    â”œâ”€ user_id: "user_123"                                       â”‚
    â”‚    â”œâ”€ roles: ["USER"]                                           â”‚
    â”‚    â””â”€ permissions: ["langextract.basic", "xml.generate", ...]   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               PERMISSION VERIFICATION                           â”‚
    â”‚                                                                 â”‚
    â”‚ Required: "langextract.basic"                                   â”‚
    â”‚                                                                 â”‚
    â”‚ Check Methods:                                                  â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ 1. Direct Permission Match                                  â”‚ â”‚
    â”‚ â”‚    â””â”€ "langextract.basic" in user_permissions âœ…           â”‚ â”‚
    â”‚ â”‚                                                             â”‚ â”‚
    â”‚ â”‚ 2. Wildcard Permission Match                                â”‚ â”‚
    â”‚ â”‚    â””â”€ "langextract.*" matches "langextract.basic" âœ…       â”‚ â”‚
    â”‚ â”‚                                                             â”‚ â”‚
    â”‚ â”‚ 3. Role Hierarchy Check                                     â”‚ â”‚
    â”‚ â”‚    â””â”€ USER role includes langextract.basic âœ…              â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                                 â”‚
    â”‚ Result: âœ… AUTHORIZED                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Deployment Architecture

### 5.1 Docker Container Architecture

```
                         DOCKER DEPLOYMENT ARCHITECTURE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                      LOAD BALANCER                            â”‚
    â”‚                     (Nginx/Traefik)                          â”‚
    â”‚                                                               â”‚
    â”‚ â€¢ SSL Termination                                             â”‚
    â”‚ â€¢ Rate Limiting                                               â”‚
    â”‚ â€¢ Request Routing                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    FRONTEND CONTAINER       â”‚    â”‚     BACKEND CONTAINER       â”‚
    â”‚    (Next.js 15)             â”‚    â”‚     (FastAPI)               â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ Port: 3000                  â”‚    â”‚ Port: 8000                  â”‚
    â”‚ Resources:                  â”‚    â”‚ Resources:                  â”‚
    â”‚ â€¢ CPU: 1 core               â”‚    â”‚ â€¢ CPU: 2 cores              â”‚
    â”‚ â€¢ RAM: 512MB                â”‚    â”‚ â€¢ RAM: 2GB                  â”‚
    â”‚ â€¢ Storage: 1GB              â”‚    â”‚ â€¢ Storage: 5GB              â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ Health Check:               â”‚    â”‚ Health Check:               â”‚
    â”‚ GET /api/health/frontend    â”‚    â”‚ GET /health                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    DATA LAYER                                   â”‚
    â”‚                                                                 â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚   PostgreSQL    â”‚ â”‚     Qdrant      â”‚ â”‚       Redis         â”‚ â”‚
    â”‚ â”‚   Container     â”‚ â”‚   Container     â”‚ â”‚     Container       â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚ Port: 5432      â”‚ â”‚ Port: 6333      â”‚ â”‚ Port: 6379          â”‚ â”‚
    â”‚ â”‚ Volume: 20GB    â”‚ â”‚ Volume: 50GB    â”‚ â”‚ Volume: 1GB         â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚ â€¢ User Data     â”‚ â”‚ â€¢ Embeddings    â”‚ â”‚ â€¢ Session Cache     â”‚ â”‚
    â”‚ â”‚ â€¢ Sessions      â”‚ â”‚ â€¢ Documents     â”‚ â”‚ â€¢ Rate Limits       â”‚ â”‚
    â”‚ â”‚ â€¢ Audit Logs    â”‚ â”‚ â€¢ Collections   â”‚ â”‚ â€¢ Temp Storage      â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 MONITORING & LOGGING                            â”‚
    â”‚                                                                 â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚   Prometheus    â”‚ â”‚     Grafana     â”‚ â”‚    ELK Stack        â”‚ â”‚
    â”‚ â”‚   (Metrics)     â”‚ â”‚   (Dashboard)   â”‚ â”‚   (Logging)         â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚ â€¢ API Metrics   â”‚ â”‚ â€¢ System Health â”‚ â”‚ â€¢ Application Logs  â”‚ â”‚
    â”‚ â”‚ â€¢ Performance   â”‚ â”‚ â€¢ User Activity â”‚ â”‚ â€¢ Error Tracking    â”‚ â”‚
    â”‚ â”‚ â€¢ Resource Use  â”‚ â”‚ â€¢ Alerts        â”‚ â”‚ â€¢ Audit Trail       â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 CI/CD Pipeline Flow

```
                           CI/CD PIPELINE FLOW
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     DEVELOPMENT                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                          git push origin main
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    GITHUB ACTIONS                               â”‚
    â”‚                                                                 â”‚
    â”‚  Trigger: Push to main/develop, Pull Request                    â”‚
    â”‚                                                                 â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚ Backend Tests   â”‚  â”‚ Frontend Tests  â”‚  â”‚ Security Scan   â”‚ â”‚
    â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚ â”‚
    â”‚  â”‚ â€¢ Pytest       â”‚  â”‚ â€¢ Jest/Vitest   â”‚  â”‚ â€¢ Bandit        â”‚ â”‚
    â”‚  â”‚ â€¢ Coverage      â”‚  â”‚ â€¢ Type Check    â”‚  â”‚ â€¢ npm audit     â”‚ â”‚
    â”‚  â”‚ â€¢ Linting       â”‚  â”‚ â€¢ ESLint        â”‚  â”‚ â€¢ CVE Scan      â”‚ â”‚
    â”‚  â”‚ â€¢ DB Migration  â”‚  â”‚ â€¢ Build Test    â”‚  â”‚ â€¢ SAST Analysis â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                   â”‚                            â”‚
    â”‚                            All Tests Pass                      â”‚
    â”‚                                   â–¼                            â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”‚                 DOCKER BUILD                                â”‚ â”‚
    â”‚  â”‚                                                             â”‚ â”‚
    â”‚  â”‚ 1. Build Backend Image                                      â”‚ â”‚
    â”‚  â”‚    â””â”€ streamworks/backend:latest, :${git_sha}               â”‚ â”‚
    â”‚  â”‚                                                             â”‚ â”‚
    â”‚  â”‚ 2. Build Frontend Image                                     â”‚ â”‚
    â”‚  â”‚    â””â”€ streamworks/frontend:latest, :${git_sha}              â”‚ â”‚
    â”‚  â”‚                                                             â”‚ â”‚
    â”‚  â”‚ 3. Push to Docker Registry                                  â”‚ â”‚
    â”‚  â”‚    â””â”€ Docker Hub / AWS ECR                                  â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                              main branch only
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     DEPLOYMENT                                  â”‚
    â”‚                                                                 â”‚
    â”‚  Target: Production Server                                      â”‚
    â”‚                                                                 â”‚
    â”‚  1. SSH to Production Server                                    â”‚
    â”‚  2. Pull Latest Images                                          â”‚
    â”‚     â””â”€ docker-compose pull                                      â”‚
    â”‚                                                                 â”‚
    â”‚  3. Health Check Current System                                 â”‚
    â”‚     â””â”€ Verify all endpoints responding                          â”‚
    â”‚                                                                 â”‚
    â”‚  4. Rolling Update                                              â”‚
    â”‚     â”œâ”€ Stop old containers                                      â”‚
    â”‚     â”œâ”€ Start new containers                                     â”‚
    â”‚     â”œâ”€ Run database migrations                                  â”‚
    â”‚     â””â”€ Verify new deployment                                    â”‚
    â”‚                                                                 â”‚
    â”‚  5. Post-Deployment Verification                                â”‚
    â”‚     â”œâ”€ API Health Checks                                        â”‚
    â”‚     â”œâ”€ Frontend Accessibility                                   â”‚
    â”‚     â”œâ”€ Database Connectivity                                    â”‚
    â”‚     â””â”€ Key Feature Testing                                      â”‚
    â”‚                                                                 â”‚
    â”‚  6. Rollback Strategy (if failure)                              â”‚
    â”‚     â””â”€ Automatic rollback to previous version                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   POST-DEPLOYMENT                               â”‚
    â”‚                                                                 â”‚
    â”‚ â€¢ Slack Notification: Deployment Success                       â”‚
    â”‚ â€¢ Update Monitoring Dashboards                                 â”‚
    â”‚ â€¢ Performance Baseline Measurement                             â”‚
    â”‚ â€¢ Documentation Update (if needed)                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Performance & Monitoring Architecture

### 6.1 System Performance Monitoring

```
                    PERFORMANCE MONITORING ARCHITECTURE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   APPLICATION LAYER                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                        Metrics Collection
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  METRICS AGGREGATION                            â”‚
    â”‚                                                                 â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ API Metrics     â”‚ â”‚ LangExtract     â”‚ â”‚ System Metrics      â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚ Metrics         â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚â€¢ Request Count  â”‚ â”‚â€¢ Detection Acc  â”‚ â”‚â€¢ CPU Usage          â”‚ â”‚
    â”‚ â”‚â€¢ Response Time  â”‚ â”‚â€¢ Processing Timeâ”‚ â”‚â€¢ Memory Usage       â”‚ â”‚
    â”‚ â”‚â€¢ Error Rate     â”‚ â”‚â€¢ Cache Hit Rate â”‚ â”‚â€¢ Disk I/O           â”‚ â”‚
    â”‚ â”‚â€¢ Throughput     â”‚ â”‚â€¢ Success Rate   â”‚ â”‚â€¢ Network Traffic    â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    PROMETHEUS                                   â”‚
    â”‚                                                                 â”‚
    â”‚ Time Series Database                                            â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ Metric Types:                                               â”‚ â”‚
    â”‚ â”‚                                                             â”‚ â”‚
    â”‚ â”‚ Counter: api_requests_total                                 â”‚ â”‚
    â”‚ â”‚ Gauge: langextract_active_sessions                          â”‚ â”‚
    â”‚ â”‚ Histogram: langextract_processing_duration_seconds          â”‚ â”‚
    â”‚ â”‚ Summary: api_request_duration_seconds                       â”‚ â”‚
    â”‚ â”‚                                                             â”‚ â”‚
    â”‚ â”‚ Labels:                                                     â”‚ â”‚
    â”‚ â”‚ â€¢ endpoint="/langextract/sessions"                          â”‚ â”‚
    â”‚ â”‚ â€¢ method="POST"                                             â”‚ â”‚
    â”‚ â”‚ â€¢ status_code="200"                                         â”‚ â”‚
    â”‚ â”‚ â€¢ job_type="FILE_TRANSFER"                                  â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     GRAFANA DASHBOARDS                         â”‚
    â”‚                                                                 â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ System Health   â”‚ â”‚ LangExtract     â”‚ â”‚ User Activity       â”‚ â”‚
    â”‚ â”‚ Dashboard       â”‚ â”‚ Performance     â”‚ â”‚ Dashboard           â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚ Dashboard       â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚â€¢ API Response   â”‚ â”‚â€¢ Detection Acc  â”‚ â”‚â€¢ Active Sessions    â”‚ â”‚
    â”‚ â”‚  Times          â”‚ â”‚â€¢ Processing     â”‚ â”‚â€¢ Feature Usage      â”‚ â”‚
    â”‚ â”‚â€¢ Error Rates    â”‚ â”‚  Time Trends    â”‚ â”‚â€¢ Geographic Dist    â”‚ â”‚
    â”‚ â”‚â€¢ Resource Usage â”‚ â”‚â€¢ Success Rates  â”‚ â”‚â€¢ Peak Hours         â”‚ â”‚
    â”‚ â”‚â€¢ Alert Status   â”‚ â”‚â€¢ Cache Metrics  â”‚ â”‚â€¢ User Satisfaction  â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 Error Handling & Alerting

```
                        ERROR HANDLING ARCHITECTURE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   ERROR SOURCES                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  â”‚                     â”‚                      â”‚
    â–¼                  â–¼                     â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Application  â”‚ â”‚Database     â”‚ â”‚External API â”‚ â”‚Infrastructure    â”‚
â”‚Errors       â”‚ â”‚Errors       â”‚ â”‚Errors       â”‚ â”‚Errors            â”‚
â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚                  â”‚
â”‚â€¢ 400 Client â”‚ â”‚â€¢ Connection â”‚ â”‚â€¢ Timeout    â”‚ â”‚â€¢ Container       â”‚
â”‚â€¢ 500 Server â”‚ â”‚â€¢ Query Fail â”‚ â”‚â€¢ Rate Limit â”‚ â”‚  Restart         â”‚
â”‚â€¢ Validation â”‚ â”‚â€¢ Migration  â”‚ â”‚â€¢ Auth Fail  â”‚ â”‚â€¢ Network Issues  â”‚
â”‚â€¢ Logic Bugs â”‚ â”‚â€¢ Lock       â”‚ â”‚â€¢ Service    â”‚ â”‚â€¢ Resource        â”‚
â”‚             â”‚ â”‚  Timeout    â”‚ â”‚  Down       â”‚ â”‚  Exhaustion      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚               â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚               â”‚
                        â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 ERROR PROCESSING                                â”‚
    â”‚                                                                 â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ Error Capture   â”‚ â”‚ Error Analysis  â”‚ â”‚ Error Routing       â”‚ â”‚
    â”‚ â”‚                 â”‚ â”‚                 â”‚ â”‚                     â”‚ â”‚
    â”‚ â”‚â€¢ Stack Trace    â”‚ â”‚â€¢ Severity Level â”‚ â”‚â€¢ Log to ELK         â”‚ â”‚
    â”‚ â”‚â€¢ Context Data   â”‚ â”‚â€¢ Error Pattern  â”‚ â”‚â€¢ Send to Sentry     â”‚ â”‚
    â”‚ â”‚â€¢ User Info      â”‚ â”‚â€¢ Frequency      â”‚ â”‚â€¢ Alert Channels     â”‚ â”‚
    â”‚ â”‚â€¢ Request Info   â”‚ â”‚â€¢ Impact Scope   â”‚ â”‚â€¢ Auto-Recovery      â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       ALERT ROUTING         â”‚    â”‚       AUTO RECOVERY         â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ Severity: CRITICAL          â”‚    â”‚ â€¢ Service Restart           â”‚
    â”‚ â””â”€ Slack + PagerDuty        â”‚    â”‚ â€¢ Circuit Breaker           â”‚
    â”‚                             â”‚    â”‚ â€¢ Fallback Responses        â”‚
    â”‚ Severity: HIGH              â”‚    â”‚ â€¢ Cache Serving             â”‚
    â”‚ â””â”€ Slack + Email            â”‚    â”‚ â€¢ Graceful Degradation      â”‚
    â”‚                             â”‚    â”‚                             â”‚
    â”‚ Severity: MEDIUM            â”‚    â”‚ Recovery Metrics:           â”‚
    â”‚ â””â”€ Slack                    â”‚    â”‚ â€¢ MTTR: 2 minutes           â”‚
    â”‚                             â”‚    â”‚ â€¢ Success Rate: 99.7%       â”‚
    â”‚ Severity: LOW               â”‚    â”‚ â€¢ Auto-Fix Rate: 85%        â”‚
    â”‚ â””â”€ Email Daily Summary      â”‚    â”‚                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Fazit

Diese **System-Architektur Diagramme** bieten eine umfassende visuelle Darstellung der **Streamworks-KI Infrastruktur**. Die ASCII-Art Diagramme zeigen:

**ğŸ” Dargestellte Architekturen:**
1. **Hybrid RAG-System** - Vector + Lexical Search Pipeline
2. **LangExtract Workflows** - User Journey und State Machine
3. **Service Dependencies** - Mikroservice-Kommunikation
4. **Authentication Flow** - JWT + RBAC Sicherheit
5. **Deployment Pipeline** - Docker + CI/CD
6. **Performance Monitoring** - Prometheus + Grafana Stack

**ğŸ’¡ Nutzen fÃ¼r die Bachelorarbeit:**
- **Komplexe Systeme** werden durch Visualisierung verstÃ¤ndlich
- **Architektur-Entscheidungen** sind nachvollziehbar dokumentiert
- **Service-Interaktionen** und **DatenflÃ¼sse** sind klar ersichtlich
- **Deployment-Strategien** und **Monitoring-Konzepte** sind transparent

Diese Diagramme ergÃ¤nzen die technische Dokumentation perfekt und machen die **Enterprise-Grade Architektur** des Streamworks-KI Systems greifbar fÃ¼r Leser der Bachelorarbeit.

---

## ZusÃ¤tzliche ErklÃ¤rungen zu den Diagrammen

### Service Dependencies & Communication
**ErklÃ¤rung der Mikroservice-Architektur:**
- **API Gateway**: Zentraler Eingangspoint mit Routing, Rate Limiting und Authentication
- **Service Isolation**: Jeder Service hat klare Verantwortlichkeiten und Grenzen
- **Dependency Injection**: Lose Kopplung durch DI Container fÃ¼r bessere Testbarkeit
- **Event-Driven Communication**: Asynchrone Kommunikation fÃ¼r bessere Skalierbarkeit
- **Shared Infrastructure**: Gemeinsame Nutzung von Datenbanken und Cache-Systemen

### Authentication & Authorization Flow
**ErklÃ¤rung des Sicherheitskonzepts:**
- **JWT Tokens**: Stateless Authentication mit Access/Refresh Token Pattern
- **2FA Integration**: Optionale Zwei-Faktor-Authentifizierung fÃ¼r erhÃ¶hte Sicherheit
- **RBAC**: Rollenbasierte Zugriffskontrolle mit hierarchischen Berechtigungen
- **Rate Limiting**: Schutz vor Brute-Force-Attacken durch IP- und User-basierte Limits
- **Security Logging**: VollstÃ¤ndige Audit-Trails fÃ¼r alle Authentication-Events

### Deployment Architecture
**ErklÃ¤rung der Container-Infrastruktur:**
- **Docker Containerization**: Isolierte, portable Anwendungscontainer
- **Load Balancing**: Verteilung der Last mit SSL-Termination
- **Health Checks**: Automatische Ãœberwachung der Container-Gesundheit
- **Volume Management**: Persistente Datenspeicherung fÃ¼r Datenbanken
- **CI/CD Integration**: Automatisierte Deployments mit GitHub Actions

### Performance & Monitoring
**ErklÃ¤rung des Monitoring-Systems:**
- **Prometheus Metrics**: Time-Series Metriken fÃ¼r Performance-Tracking
- **Grafana Dashboards**: Visuelle Darstellung von System-Metriken
- **Error Tracking**: Strukturierte Fehlerbehandlung mit Alerting
- **Auto-Recovery**: Automatische Wiederherstellung bei kritischen Fehlern
- **SLA Monitoring**: Ãœberwachung von Service Level Agreements (99.7% Uptime)